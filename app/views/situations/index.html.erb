<div ng-app="app">
  <div ng-controller="situationsCtrl" ng-init="setup(<%= @tripstuff.to_json %>)">

<h3>What Special Plans Do You Have?</h3>


    <style>
      table, th, td {
        border: 1px solid black;
        border-collapse: collapse;
      }
      th, td {
        padding: 5px;
      }
    </style>


    <%= form_tag("/trips/#{@this_trip_id}/clothing_selections", method: "get") do %>

      <table >
          <tr>
            <th>Trip Mates</th>

            <th><%= label_tag(:nice_dinner, "Going out to a nice dinner") %></th>

            <th><%= label_tag(:wedding, "Wedding") %></th>
            
            <th><%= label_tag(:beach, "Going to the beach") %></th>
            
            <th><%= label_tag(:business_trip, "It's a business trip") %></th>

            <th><%= label_tag(:sight_seeing, "Sight Seeing") %></th>      

            <th><%= label_tag(:relax, "Relaxing") %></th>     

            <th><%= label_tag(:hiking, "Hiking") %></th>      

            <th><%= label_tag(:line_dancing, "Line Dancing") %></th>

          </tr>
        <!-- </div> -->

          <tr>
            <% @tripmates.each do |person| %>

            <td><%= person.name %></td>
            <td><input type='checkbox' ng-click="addSituation(<%= person.id %>, 1, <%= @this_trip_id %>)" ng-checked="isChecked(<%= person.id %>, 1)"></td>
            <td><input type='checkbox' ng-click="addSituation(<%= person.id %>, 2, <%= @this_trip_id %>)" ng-checked="isChecked(<%= person.id %>, 2)"></td>
            <td><input type='checkbox' ng-click="addSituation(<%= person.id %>, 3, <%= @this_trip_id %>)" ng-checked="isChecked(<%= person.id %>, 3)"></td>
            <td><input type='checkbox' ng-click="addSituation(<%= person.id %>, 4, <%= @this_trip_id %>)" ng-checked="isChecked(<%= person.id %>, 4)"></td>
            <td><input type='checkbox' ng-click="addSituation(<%= person.id %>, 5, <%= @this_trip_id %>)" ng-checked="isChecked(<%= person.id %>, 5)"></td>
            <td><input type='checkbox' ng-click="addSituation(<%= person.id %>, 6, <%= @this_trip_id %>)" ng-checked="isChecked(<%= person.id %>, 6)"></td>
            <td><input type='checkbox' ng-click="addSituation(<%= person.id %>, 7, <%= @this_trip_id %>)" ng-checked="isChecked(<%= person.id %>, 7)"></td>
            <td><input type='checkbox' ng-click="addSituation(<%= person.id %>, 8, <%= @this_trip_id %>)" ng-checked="isChecked(<%= person.id %>, 8)"></td>
          </tr>
          <br>
        <% end %>
      </table>

      
      <div>
        <%= submit_tag "What Should I Pack" %>
      </div>
      <%= hidden_field_tag(:length, @length) %>

    <% end %>

  <%= link_to "Home", "/persons" %>

  </div>
</div>
